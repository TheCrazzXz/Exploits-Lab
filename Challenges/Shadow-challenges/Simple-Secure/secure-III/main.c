/*
	Compilation :
		gcc main.c -o secure
*/

#include <stdio.h>
#include <string.h>
#include <stdlib.h>
//The goal of this is not to overflow the buffer

int main(int argc, char** argv)
{
	
	char* input_ptr = NULL;
	char* passw_ptr = NULL;
	
	if(argc < 2)
	{
		printf("Usage : secure.exe -user <USERNAME>");
		exit(0);
	}
	else
	{
		int user_def = 0;
		int pass_def = 0;
		for(int i = 0 ; i < argc ; i++)
		{
			if(strcmp(argv[i], "-user") == 0)
			{
				input_ptr = argv[i + 1];
				
				if(argv[i + 1] == NULL)
				{
					printf("Usage : secure.exe -user <USERNAME>");
					exit(0);
				}
				
				user_def = 1;
			}
		}
		if(!user_def)
		{
			printf("Usage : secure.exe -user <USERNAME>");
			exit(0);
		}
	}
	
	
	char password[] = "HackThePlanet";
	char input[10];
	
	printf("\nEnter password for user ");
	printf(input_ptr);
	printf(" : ");
	gets(input);
	
	if(strcmp(password, input) == 0)
	{
		printf("Acces granted");
	}
	else
	{
		printf("Acces denied");
	}
}