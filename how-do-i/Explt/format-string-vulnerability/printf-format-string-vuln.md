# Format string vulnerability

This one is a **format string vulnerability**, it's a **memory leak vulnerability**, let me explain you how it works
## How does `printf()` works 
`printf()` (for print format) takes infinite arguments, but the first argument is the **format**, like how do you wanna show your variables, to indicate the format of a variable to print,
you have to use a flag (`%s` (string), `%d` (decimal), `%x`, hexadecimal)
Okay so when you use `printf()`, you usualy use like this : 
```c
printf("Hello, %s, you are %d years old", user_name, user_age);
```
Considering that `user_age` = `19` and `user_name` = `"Patrick"` It will give us :
```
Hello Patrick, you are 19 years old
```
Let's have another example :
```c
printf("%d, %d, %d, %d", var1, var2, var3, var4);
```
Okay but what happens if we don't give the arguments after the format string ?
```c
printf("%d, %d, %d, %d");
```
We will get some values, and these values, are values from memory, 
- But what are those values ? And how can this be exploited ?
- Well, you're just going to have values from the stack...
- BUT IAM FREAKIN' ASKING YOU WHAT VALUES ARE YOU TALKING ABOUT !! 
These Oh yeah, first in the stack, you have the backup of EIP (why ? That's because when you call a function, when it finishes and has to return `ret` so it will set EIP to this value which is stored in the stack) and also EBP, and then you have also other variables which are typical for the C language and... You have you declared variables and their content !
Each time you will add a flag, it is going to increment the address to print, but with ASLR protections (especially on linux) the address are randomizes, so the variables are harder to identify, but that's okay
