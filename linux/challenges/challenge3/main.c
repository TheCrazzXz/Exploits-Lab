#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <sys/types.h>
#include <unistd.h>

#define VERSION 1.0
#define STACK_CANARY 0x905723
#define PASSWORD "ThinHack"
#define ID 0x01
#define BUFFER_SIZE 8

struct profile
{
	int id;
	char* buffer;
};

void MainProcess()
{
	printf("-----Hello user, please enter text to print-----:\n");
	char input[256];
	scanf("%s", input);
	//printf("%s\n", input);	
	//printf("%p,%p,%p,%p,%p");
}

void process(char** argv)
{
	//printf("%p\n", getenv("MYSHELL"));
	char user[] = "Oppa";
	char pass[] = PASSWORD;

	struct profile* username = malloc(sizeof(struct profile));
	username->id = ID;
	username->buffer = malloc(8);

	struct profile* password = malloc(sizeof(struct profile));
	password->id = ID;
	password->buffer = malloc(8);

	printf("Enter your username : ");
	char username_buffer[128]; 
	scanf("%s", username_buffer);

	strcpy(username->buffer, username_buffer);

	printf("Enter the password : ");
	char password_buffer[128]; 
	scanf("%s", password_buffer); 
	strcpy(password->buffer, password_buffer);

	if(strcmp(username->buffer, user) == 0 && strcmp(password->buffer, pass) == 0)
	{
		printf("The password is correct");
		MainProcess();
	}
	else
	{
		printf("The password is incorrect");
	}
}

int main(int argc, char **argv)
{
	process(argv);
}

